(this["webpackJsonporcamento-app"]=this["webpackJsonporcamento-app"]||[]).push([[0],{47:function(e,t,a){e.exports=a(93)},88:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),i=a.n(r),c=a(1),s=a(2),l=a(4),u=a(3),m=a(24),d=a(7),p=a(16),h=a.n(p),v=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"adicionarItem",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"obterItem",value:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}},{key:"removerItem",value:function(e){localStorage.removeItem(e)}}]),e}(),f=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"criptografaBase64",value:function(e){for(var t=e.split("").reverse("").join(""),a="",n=0;n<e.length;++n)a=a+e[n]+t[n];return window.btoa(a)}}]),e}(),E="https://api-orcamento.herokuapp.com",b=new(function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,t){return h.a.get("".concat(E,"/basicauth"),{headers:{authorization:this.createBasicAuthToken(e,t)}})}},{key:"executeJwtAuthenticationService",value:function(e,t){return t=f.criptografaBase64(t),h.a.post("".concat(E,"/login"),{username:e,password:t})}},{key:"createBasicAuthToken",value:function(e,t){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBasicAuthToken(e,t))}},{key:"registerSuccessfulLoginForJwt",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),sessionStorage.setItem("_token_",t),this.setupAxiosInterceptors(this.createJWTToken(t))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"logout",value:function(){return h.a.get("".concat(E,"/logout"))}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getLoggedInUserName",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"removerUsuarioAutenticado",value:function(){v.removerItem("_usuario_logado")}},{key:"setupAxiosInterceptors",value:function(e){var t=this;h.a.interceptors.request.use((function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a}))}}]),e}()),g=h.a.create({});g.interceptors.request.use((function(e){return sessionStorage.getItem("_token_")&&(e.headers.authorization="Bearer "+sessionStorage.getItem("_token_")),e}),(function(e){return Promise.reject(e)}));var C=function(){function e(t){Object(c.a)(this,e),this.apiurl="https://api-orcamento.herokuapp.com"+t}return Object(s.a)(e,[{key:"get",value:function(e){var t="".concat(this.apiurl).concat(e);return console.log(t),g.get(t)}},{key:"post",value:function(e,t){var a="".concat(this.apiurl).concat(e);return console.log(a),console.log(t),g.post(a,t)}},{key:"put",value:function(e,t){var a="".concat(this.apiurl).concat(e);return g.put(a,t)}},{key:"delete",value:function(e){var t="".concat(this.apiurl).concat(e);return g.delete(t)}}]),e}();var N=function(e){this.mensagens=e},y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.call(this,"/usuarios")}return Object(s.a)(a,[{key:"Listar",value:function(){return this.get("/listar")}},{key:"consultar",value:function(e){var t="?nome=".concat(e.nome);return e.usuario&&(t="".concat(t,"&usuario=").concat(e.usuario)),e.email&&(t="".concat(t,"&email=").concat(e.email)),this.get("/by"+t)}},{key:"obterPorId",value:function(e){return this.get("/".concat(e))}},{key:"obterSaldoPorUsuario",value:function(e){return this.get("/".concat(e,"/saldo"))}},{key:"ListarRoles",value:function(){return this.get("/permissoes")}},{key:"salvar",value:function(e){return this.post("",e)}},{key:"atualizar",value:function(e){return this.put("/".concat(e.id,"/"),e)}},{key:"validar",value:function(e){var t=[];if(e.nome||t.push("O campo nome \xe9 obrigat\xf3rio."),e.usuario||t.push("O campo usu\xe1rio \xe9 obrigat\xf3rio."),e.fone||t.push("O campo fone \xe9 obrigat\xf3rio."),e.email?e.email.match(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+).(\.[a-z]{2,3})$/)||e.email.match(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)$/)||t.push("Informe um e-mail v\xe1lido."):t.push("O campo e-mail \xe9 obrigat\xf3rio."),e.senha&&e.senhaRepeticao?e.senha!==e.senhaRepeticao&&t.push("As senhas n\xe3o est\xe3o iguais."):t.push("Infome a senha duas vezes para valida\xe7\xe3o."),t&&t.length>0)throw new N(t)}}]),a}(C),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"card mb-3"},o.a.createElement("h3",{className:"card-header"},this.props.title),o.a.createElement("div",{className:"card-body"},this.props.children))}}]),a}(o.a.Component);var D=function(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:e.htmlFor},e.label),e.children)},O=a(27),k=a.n(O);function j(e,t,a){k.a[a](t,e)}function w(e){j("Erro",e,"error")}function I(e){j("Sucesso",e,"success")}function x(e){j("Alerta",e,"warning")}k.a.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var A=o.a.createContext(),z=A.Consumer,U=A.Provider,F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,"")).state={usuarioAutenticado:null,isAutenticado:!1},e.iniciarSessao=function(t){e.setState({isAutenticado:!0,usuarioAutenticado:t})},e.encerrarSessao=function(){b.logout(),b.removerUsuarioAutenticado(),e.setState({isAutenticado:!1,usuarioAutenticado:null})},e}return Object(s.a)(a,[{key:"render",value:function(){var e={usuarioAutenticado:this.state.usuarioAutenticado,isAutenticado:this.state.isAutenticado,iniciarSessao:this.iniciarSessao,encerrarSessao:this.encerrarSessao};return o.a.createElement(U,{value:e},this.props.children)}}]),a}(o.a.Component),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).validar=function(){var e=[];if(n.state.usernameOrEmail||e.push("Informe um login v\xe1lido!"),n.state.password||e.push("Informe uma senha v\xe1lida!"),e&&e.length>0)return e.forEach((function(e){return w(e)})),!1;n.entrar()},n.entrar=function(){b.executeJwtAuthenticationService(n.state.usernameOrEmail,n.state.password).then((function(e){b.registerSuccessfulLoginForJwt(n.state.usernameOrEmail,e.data.token),n.context.iniciarSessao(e.data),n.props.history.push("/home")})).catch((function(e){w("Usu\xe1rio ou senha inv\xe1lida! "+e.response.data.message)}))},n.state={usernameOrEmail:"",password:""},n.serviceUser=new y,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6",style:{position:"relative",left:"300px"}},o.a.createElement("div",{className:"bs-docs-section"},o.a.createElement(S,{title:"Login"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement("fieldset",null,o.a.createElement(D,{label:"E-mail: *",htmlFor:"exampleInputEmail1"},o.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Digite o Email",value:this.state.usernameOrEmail,onChange:function(t){return e.setState({usernameOrEmail:t.target.value})}})),o.a.createElement(D,{label:"E-mail: *",htmlFor:"exampleInputPassword1"},o.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),o.a.createElement("button",{onClick:this.validar,type:"button",className:"btn btn-success"},o.a.createElement("i",{className:"pi pi-sign-in"})," Entrar")))))))))}}]),a}(o.a.Component);V.contextType=A;var R=Object(d.g)(V),T=a(21),B=a.n(T),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={saldo:0},e.usuarioService=new y,e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"jumbotron"},o.a.createElement("h1",{className:"display-3"},"Bem vindo!"),o.a.createElement("p",{className:"lead"},"Esse \xe9 seu sistema de comiss\xe3o."),o.a.createElement("p",{className:"lead"},"Sua comiss\xe3o atual \xe9 de ",B.a.format(this.state.saldo,{locale:"pt-BR"})," "),o.a.createElement("hr",{className:"my-4"}),o.a.createElement("p",null,"E essa \xe9 sua \xe1rea administrativa, utilize um dos menus ou bot\xf5es abaixo para navegar pelo sistema."),o.a.createElement("p",{className:"lead"},o.a.createElement("a",{className:"btn btn-primary btn-lg",href:"#/cadastro-clientes",role:"button"},o.a.createElement("i",{className:"pi pi-user-plus"})," Cadastrar clientes"),o.a.createElement("a",{className:"btn btn-danger btn-lg",href:"#/cadastro-lancamentos",role:"button"},o.a.createElement("i",{className:"pi pi-money-bill"})," Realizar pedido")))}}]),a}(o.a.Component);P.contextType=A;var Y=P,_=function(e){var t=e.usuarios.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.nome),o.a.createElement("td",null,t.usuario),o.a.createElement("td",null,t.email),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-primary",title:"Editar",type:"button",onClick:function(a){return e.actionEdit(t.id)}},o.a.createElement("i",{className:"pi pi-pencil"})),o.a.createElement("button",{type:"button",title:"Excluir",className:"btn btn-danger",onClick:function(a){return e.actionDelete(t)}},o.a.createElement("i",{className:"pi pi-trash"}))))}));return o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"C\xf3digo"),o.a.createElement("th",{scope:"col"},"Nome"),o.a.createElement("th",{scope:"col"},"Usu\xe1rio"),o.a.createElement("th",{scope:"col"},"E-mail"),o.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),o.a.createElement("tbody",null,t))},L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:null,nome:"",usuario:"",email:"",senha:"",senhaRepeticao:"",usuarios:[]},n.consultar=function(){var e={id:n.state.id,nome:n.state.nome,usuario:n.state.usuario,email:n.state.email,showConfirmDialogDel:!1,usuarioDeletar:{}};n.usuarioService.consultar(e).then((function(e){var t=e.data;if(t.length<1)return x("Nenhum usu\xe1rio foi localizado."),!1;n.setState({usuarios:t})})).catch((function(e){w(e.response.data.message)}))},n.editar=function(e){n.props.history.push("cadastro-usuarios/".concat(e))},n.prepararNovoCadastro=function(){n.props.history.push("cadastro-usuarios")},n.abrirConfirmacaoDeletar=function(e){n.setState({showConfirmDialogDel:!0,usuarioDeletar:e})},n.cancelarDelecao=function(){n.setState({showConfirmDialogDel:!1,usuarioDeletar:{}})},n.deletar=function(){},n.usuarioService=new y,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(S,{title:"Consulta de usu\xe1rio"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement("fieldset",null,o.a.createElement(D,{label:"Nome: *",htmlFor:"inputNome"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite o nome do usu\xe1rio",id:"inputNome",name:"nome",onChange:function(t){return e.setState({nome:t.target.value})}})),o.a.createElement("button",{onClick:this.consultar,type:"button",className:"btn btn-success"},o.a.createElement("i",{className:"pi pi-search"}," ")," Consultar"),o.a.createElement("button",{onClick:this.prepararNovoCadastro,type:"button",className:"btn btn-danger"},o.a.createElement("i",{className:"pi pi-plus"}," ")," Cadastrar novo"))))),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(_,{usuarios:this.state.usuarios,actionEdit:this.editar,actionDelete:this.abrirConfirmacaoDeletar})))))}}]),a}(o.a.Component),M=Object(d.g)(L),J=a(23),$=a(14),H=a(20),q=a.n(H),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:null,nome:"",usuario:"",email:"",dataNascimento:q()(new Date).format(),fone:"",senha:"",senhaRepeticao:"",atualizando:!1,selectedOptionRole:null,roles:[]},n.carregarRoles=function(){n.usuarioService.ListarRoles().then((function(e){n.setState({roles:e.data})})).catch((function(e){w(e.response.data)}))},n.handleChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object($.a)({},a,t))},n.handleChangeRole=function(e){n.setState({roles:e.target.value})},n.preparaSalvar=function(){var e=n.getDados();try{n.usuarioService.validar(e)}catch(t){return t.mensagens.forEach((function(e){return x(e)})),!1}n.ehNovoCadastro()?n.salvar(e):n.atualizar(e)},n.getDados=function(){if(n.ehNovoCadastro()){var e=n.state;return{id:e.id,nome:e.nome,usuario:e.usuario,email:e.email,dataNascimento:e.dataNascimento,fone:e.fone,senha:e.senha,senhaRepeticao:e.senhaRepeticao}}var t=n.state;return{nome:t.nome,usuario:t.usuario,email:t.email,dataNascimento:t.dataNascimento,fone:t.fone,senha:t.senha,senhaRepeticao:t.senhaRepeticao}},n.ehNovoCadastro=function(){return!n.state.id},n.salvar=function(e){var t=q()(n.state.dataNascimento).format("YYYY-MM-DD");n.usuarioService.salvar({usuario:n.state.usuario,nome:n.state.nome,email:n.state.email,dataNascimento:t,fone:n.state.fone,senha:f.criptografaBase64(n.state.senha),roles:[{id:n.state.selectedOptionRole}]}).then((function(e){I("Usu\xe1rio cadastrado com sucesso!"),n.prepareConsultarUser()})).catch((function(e){w(e.response.data.titulo),w(e.response.data),w(e.response.message)}))},n.atualizar=function(e){var t=q()(n.state.dataNascimento).format("YYYY-MM-DD");n.usuarioService.atualizar({id:n.state.id,usuario:n.state.usuario,nome:n.state.nome,email:n.state.email,dataNascimento:t,fone:n.state.fone,senha:f.criptografaBase64(n.state.senha),roles:[{id:n.state.selectedOptionRole}]}).then((function(e){I("Usu\xe1rio atualizado com sucesso!"),n.prepareConsultarUser()})).catch((function(e){w(e.response.data.titulo),w(e.response.data),w(e.response.message)}))},n.prepareConsultarUser=function(){n.props.history.push("/consulta-usuarios")},n.usuarioService=new y,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;t.id&&this.usuarioService.obterPorId(t.id).then((function(t){e.setState(Object(J.a)(Object(J.a)({},t.data),{},{atualizando:!0})),e.setState({dataNascimento:q()(e.state.dataNascimento).format("YYYY-MM-DD")}),t.data.roles.forEach((function(t){e.setState({selectedOptionRole:t.id})}))})).catch((function(e){w(e.response.data)})),this.carregarRoles()}},{key:"render",value:function(){return o.a.createElement(S,{title:this.state.atualizando?"Atualizando usu\xe1rio":"Cadastro de usu\xe1rio"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-1"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{label:"C\xf3digo",htmlFor:"inputId"},o.a.createElement("input",{className:"form-control",type:"text",id:"inputId",name:"id",value:this.state.id,disabled:!0}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(D,{label:"Nome: *",htmlFor:"inputNome"},o.a.createElement("input",{type:"text",className:"form-control",id:"inputNome",name:"nome",value:this.state.nome,onChange:this.handleChange})),o.a.createElement(D,{label:"Usuario: *",htmlFor:"inputUsuario"},o.a.createElement("input",{type:"text",className:"form-control",id:"inputUsuario",name:"usuario",value:this.state.usuario,onChange:this.handleChange})),o.a.createElement(D,{label:"E-mail: *",htmlFor:"inputEmail"},o.a.createElement("input",{type:"text",className:"form-control",id:"inputEmail",name:"email",value:this.state.email,onChange:this.handleChange})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Fone:",htmlFor:"inputFone"},o.a.createElement("input",{type:"text",className:"form-control",id:"inputFone",name:"fone",value:this.state.fone,onChange:this.handleChange}))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Data Nascimento:",htmlFor:"inputDataNasc"},o.a.createElement("input",{type:"date",className:"form-control",id:"inputDataNasc",name:"dataNascimento",value:this.state.dataNascimento,onChange:this.handleChange}))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Permiss\xe3o: *",htmlFor:"inputRole"},o.a.createElement("select",{className:"form-control",id:"inputRole",name:"selectedOptionRole",value:this.state.selectedOptionRole,onChange:this.handleChange},o.a.createElement("option",{value:"0"},"Selecione uma op\xe7\xe3o"),this.state.roles.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.nome)})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(D,{label:"Senha: *",htmlFor:"inputSenha"},o.a.createElement("input",{type:"password",className:"form-control",id:"inputSenha",name:"senha",value:this.state.senha,onChange:this.handleChange}))),o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(D,{label:"Repita a Senha: *",htmlFor:"inputRepitaSenha"},o.a.createElement("input",{type:"password",className:"form-control",id:"inputRepitaSenha",name:"senhaRepeticao",value:this.state.senhaRepeticao,onChange:this.handleChange})))),o.a.createElement("div",{className:"row"},o.a.createElement("button",{onClick:this.preparaSalvar,type:"button",className:"btn btn-success"},o.a.createElement("i",{className:"pi pi-save"}," ")," Salvar"),o.a.createElement("button",{onClick:this.prepareConsultarUser,type:"button",className:"btn btn-danger"},o.a.createElement("i",{className:"pi pi-arrow-left"}," ")," Voltar")))}}]),a}(o.a.Component),G=Object(d.g)(W),K=function(e){var t=e.clientes.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.nome),o.a.createElement("td",null,t.email),o.a.createElement("td",null,t.fone),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-primary",title:"Editar",type:"button",onClick:function(a){return e.actionEdit(t.id)}},o.a.createElement("i",{className:"pi pi-pencil"})),o.a.createElement("button",{type:"button",title:"Excluir",className:"btn btn-danger",onClick:function(a){return e.actionDelete(t)}},o.a.createElement("i",{className:"pi pi-trash"}))))}));return o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"C\xf3digo"),o.a.createElement("th",{scope:"col"},"Nome"),o.a.createElement("th",{scope:"col"},"E-mail"),o.a.createElement("th",{scope:"col"},"Fone"),o.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),o.a.createElement("tbody",null,t))},Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.call(this,"/clientes")}return Object(s.a)(a,[{key:"validar",value:function(e){var t=[];if(e.nome||t.push("O preenchimento do campo [Nome] \xe9 obrigat\xf3rio."),e.email?e.email.match(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+).(\.[a-z]{2,3})$/)||e.email.match(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)$/)||t.push("Informe um e-mail v\xe1lido."):t.push("O preenchimento do campo [E-mail] \xe9 obrigat\xf3rio."),e.fone||t.push("O preenchimento do campo [Fone] \xe9 obrigat\xf3rio."),e.cep||t.push("O preenchimento do campo [Cep] \xe9 obrigat\xf3rio."),e.endereco||t.push("O preenchimento do campo [Endere\xe7o] \xe9 obrigat\xf3rio."),0==e.tpCnpjCpf||e.cnpjCpf||t.push("O preenchimento do campo [N\xfamero do documento] \xe9 obrigat\xf3rio."),t&&t.length>0)throw new N(t)}},{key:"consultar",value:function(e){var t="?nome=".concat(e.nome);return e.fone&&(t="".concat(t,"&fone=").concat(e.fone)),e.email&&(t="".concat(t,"&email=").concat(e.email)),this.get("/by"+t)}},{key:"obterPorId",value:function(e){return this.get("/".concat(e))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"atualizar",value:function(e){return this.put("/".concat(e.id),e)}},{key:"deletar",value:function(e){return this.delete("/".concat(e))}}]),a}(C),X=a(22),Z=a(17),ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:null,nome:"",email:"",fone:"",clientes:[]},n.consultar=function(){var e={id:n.state.id,nome:n.state.nome,email:n.state.email,fone:n.state.fone,showConfirmDialogDel:!1,clienteDeletar:{}};n.clienteService.consultar(e).then((function(e){var t=e.data;if(t.length<1)return x("Nenhum cliente foi localizado."),!1;n.setState({clientes:t})})).catch((function(e){w(e.response.data)}))},n.editar=function(e){n.props.history.push("cadastro-clientes/".concat(e))},n.prepararNovoCadastro=function(){n.props.history.push("cadastro-clientes")},n.abrirConfirmacaoDeletar=function(e){n.setState({showConfirmDialogDel:!0,clienteDeletar:e})},n.cancelarDelecao=function(){n.setState({showConfirmDialogDel:!1,clienteDeletar:{}})},n.deletar=function(){n.clienteService.deletar(n.state.clienteDeletar.id).then((function(e){var t=n.state.clientes.indexOf(n.state.clienteDeletar);n.state.clientes.splice(t,1),n.setState({clientes:n.state.clientes,showConfirmDialogDel:!1}),I("Cliente excluido com sucesso!")})).catch((function(e){w(e.response.data.titulo)}))},n.clienteService=new Q,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,o.a.createElement(Z.Button,{label:"Confirmar",icon:"pi pi-check",onClick:this.deletar}),o.a.createElement(Z.Button,{label:"Cancelar",icon:"pi pi-times",onClick:this.cancelarDelecao}));return o.a.createElement(S,{title:"Consulta de clientes"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(D,{label:"Nome: *",htmlFor:"ImputNome"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite o nome do cliente",id:"ImputNome",value:this.state.nome,onChange:function(t){return e.setState({nome:t.target.value})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(D,{label:"Fone: ",htmlFor:"ImputFone"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite o fone do cliente",id:"ImputFone",value:this.state.fone,onChange:function(t){return e.setState({fone:t.target.value})}}))),o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(D,{label:"E-mail: ",htmlFor:"ImputEmail"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite o e-mail do cliente",id:"ImputEmail",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.consultar},o.a.createElement("i",{className:"pi pi-search"})," Consultar"),o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.prepararNovoCadastro},o.a.createElement("i",{className:"pi pi-plus"})," Cadastrar novo"))),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(K,{clientes:this.state.clientes,actionEdit:this.editar,actionDelete:this.abrirConfirmacaoDeletar,alterarStatus:this.abrirConfirmacaoAlterarStatus})))),o.a.createElement("div",null,o.a.createElement(X.Dialog,{header:"Confirma\xe7\xe3o",visible:this.state.showConfirmDialogDel,style:{width:"20%"},footer:t,modal:!0,onHide:function(){return e.setState({showConfirmDialogDel:!1})}},"Confirma a exclus\xe3o do cliente?")))}}]),a}(o.a.Component),te=Object(d.g)(ee),ae=a(18),ne=a.n(ae),oe=a(45),re=h.a.create({}),ie=function(){function e(t){Object(c.a)(this,e),this.apiurl="https://viacep.com.br/ws/"}return Object(s.a)(e,[{key:"getByCep",value:function(e){var t="".concat(this.apiurl).concat(e,"/json");return re.get(t)}}]),e}(),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={id:null,nome:"",email:"",fone:"",dtNascimento:"",vendedor:!1,tpCnpjCpf:0,cnpjCpf:"",cep:"",endereco:"",numero:null,atualizando:!1,tipoDocto:[{id:0,descricao:"N\xe3o informado",tpDocto:"Nao_Informado"},{id:1,descricao:"CNPJ",tpDocto:"Cnpj"},{id:2,descricao:"CPF",tpDocto:"Cpf"}]},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object($.a)({},n,a))},e.preparaConsultar=function(){e.props.history.push("/consulta-clientes")},e.preparaSalvar=function(){var t=e.getDados();try{e.clienteService.validar(t)}catch(a){return a.mensagens.forEach((function(e){x(e)})),!1}e.ehNovoCadastro()?e.salvar(t):e.atualizar(t)},e.getDados=function(){var t=e.state.dtNascimento?q()(e.state.dtNascimento).format("YYYY-MM-DD"):"";return e.ehNovoCadastro()?{nome:e.state.nome,email:e.state.email,fone:e.state.fone,dtNascimento:t,tpCnpjCpf:e.state.tpCnpjCpf,cnpjCpf:e.state.cnpjCpf,vendedor:e.state.vendedor,cep:e.state.cep,endereco:e.state.endereco,numero:e.state.numero}:{id:e.state.id,nome:e.state.nome,email:e.state.email,fone:e.state.fone,dtNascimento:t,tpCnpjCpf:e.state.tpCnpjCpf,cnpjCpf:e.state.cnpjCpf,vendedor:e.state.vendedor,cep:e.state.cep,endereco:e.state.endereco,numero:e.state.numero}},e.ehNovoCadastro=function(){return!e.state.id},e.salvar=function(t){e.clienteService.salvar(t).then((function(t){I("Cliente cadastrado com sucesso!"),e.props.history.push("/consulta-clientes")})).catch((function(e){w(e.response.data.titulo)}))},e.atualizar=function(t){return e.clienteService.atualizar(t).then((function(t){e.props.history.push("/consulta-clientes"),I("Cliente atualizado com sucesso")})).catch((function(e){w(e.response.data.titulo)}))},e.toggleCheckboxChange=function(t){e.setState({vendedor:t})},e.clienteService=new Q,e.cepService=new ie,e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;t.id&&this.clienteService.obterPorId(t.id).then((function(t){(e.setState({id:t.data.id}),e.setState({nome:t.data.nome}),e.setState({email:t.data.email}),e.setState({fone:t.data.fone}),e.setState({dtNascimento:t.data.dtNascimento}),e.setState({dtNascimento:e.state.dtNascimento?q()(e.state.dtNascimento).format("YYYY-MM-DD"):""}),e.setState({vendedor:t.data.vendedor}),e.setState({tpCnpjCpf:t.data.tpCnpjCpf}),e.setState({cnpjCpf:t.data.cnpjCpf}),e.setState({cep:t.data.cep}),e.setState({endereco:t.data.endereco}),e.setState({numero:t.data.numero}),e.setState({atualizando:t.data.atualizando}),e.state.tpCnpjCpf)&&e.state.tipoDocto.filter((function(t){return t.tpDocto.toUpperCase()===e.state.tpCnpjCpf.toUpperCase()})).forEach((function(t){e.setState({tpCnpjCpf:t.id})}))})).catch((function(e){w(e.response.data)}))}},{key:"handleCep",value:function(e){var t=this,a=this.state.cep;this.cepService.getByCep(a).then((function(e){var a="";e.data.logradouro&&(a=e.data.logradouro),e.data.bairro&&(a=""==a?e.data.bairro:a+", "+e.data.bairro),e.data.localidade&&(a=""==a?e.data.localidade:a+", "+e.data.localidade),e.data.uf&&(a=""==a?e.data.uf:a+", "+e.data.uf),t.setState({endereco:a})})).catch((function(e){x("O servi\xe7o dos correios est\xe1 temporariamente indispon\xedvel, tente novamente mais tarde!")}))}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{title:"Cadastro de clientes"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-1"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{label:"C\xf3digo",htmlFor:"inputId"},o.a.createElement("input",{className:"form-control",type:"text",id:"inputId",name:"nome",value:this.state.id,disabled:!0}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(D,{id:"inputNome",label:"Nome *"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe o nome do cliente",maxLength:"100",id:"inputNome",name:"nome",value:this.state.nome,onChange:this.handleChange})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{id:"inputEmail",label:"E-mail *"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe o e-mail do cliente",maxLength:"50",id:"inputEmail",name:"email",value:this.state.email,onChange:this.handleChange}))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{id:"inputFone",label:"Fone *"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputFone",name:"fone",placeholder:"Informe o telefone do cliente",format:"(##) #####-####",mask:"_",value:this.state.fone,onValueChange:function(t){var a=t.value;e.setState({fone:a})}}))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Data Nascimento:",htmlFor:"inputDataNasc"},o.a.createElement("input",{type:"date",className:"form-control",id:"inputDataNasc",name:"dtNascimento",value:this.state.dtNascimento,onChange:this.handleChange})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Tipo documento: *",htmlFor:"inputTpDocumento"},o.a.createElement("select",{className:"form-control",id:"inputTpDocumento",name:"tpCnpjCpf",value:this.state.tpCnpjCpf,onChange:this.handleChange},this.state.tipoDocto.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)}))))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:0!=this.state.tpCnpjCpf?"Documento: *":"Documento: ",htmlFor:"inputDocumento"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputDocumento",name:"cnpjCpf",placeholder:"Informe o n\xfamero do documento",format:1==this.state.tpCnpjCpf?"##.###.###/####-##":2==this.state.tpCnpjCpf?"###.###.###-##":"",mask:"_",value:this.state.cnpjCpf,onValueChange:function(t){var a=t.value;e.setState({cnpjCpf:a})},disabled:0==this.state.tpCnpjCpf}))),o.a.createElement("div",{className:"col-lg-2"},o.a.createElement(D,{htmlFor:"chkVendedor"},o.a.createElement("div",{className:"check-position"},o.a.createElement(oe.a,{id:"chkVendedor",size:"small",shape:"round",color:"blue",isChecked:this.state.vendedor,onChange:this.toggleCheckboxChange}),o.a.createElement("label",null," Vendedor "))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-2"},o.a.createElement(D,{id:"inputCep",label:"Cep: *"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputCep",name:"cep",placeholder:"Informe o CEP",format:"#####-###",mask:"_",onBlur:this.handleCep.bind(this),value:this.state.cep,onValueChange:function(t){var a=t.value;e.setState({cep:a})}}))),o.a.createElement("div",{className:"col-lg-8"},o.a.createElement(D,{id:"inputEndereco",label:"Endere\xe7o: *"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe o endere\xe7o do cliente",maxLength:"100",id:"inputEndereco",name:"endereco",value:this.state.endereco,onChange:this.handleChange}))),o.a.createElement("div",{className:"col-lg-2"},o.a.createElement(D,{id:"inputNumero",label:"N\xfamero:"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe o n\xfamero",maxLength:"10",id:"inputNumero",name:"numero",value:this.state.numero,onChange:this.handleChange})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",onClick:this.preparaSalvar},o.a.createElement("i",{className:"pi pi-save"})," Salvar"),o.a.createElement("button",{className:"btn btn-danger",onClick:this.preparaConsultar},o.a.createElement("i",{className:"pi pi-arrow-left"})," Voltar"))))}}]),a}(o.a.Component),se=Object(d.g)(ce),le=function(e){var t=e.items.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.descricao),o.a.createElement("td",null,t.tipoItem.descricao),o.a.createElement("td",null,B.a.format(t.vlrVenda,{locale:"pt-BR"})),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-primary",title:"Editar",type:"button",onClick:function(a){return e.actionEdit(t.id)}},o.a.createElement("i",{className:"pi pi-pencil"})),o.a.createElement("button",{type:"button",title:"Excluir",className:"btn btn-danger",onClick:function(a){return e.actionDelete(t)}},o.a.createElement("i",{className:"pi pi-trash"}))))}));return o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"C\xf3digo"),o.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),o.a.createElement("th",{scope:"col"},"Tipo"),o.a.createElement("th",{scope:"col"},"Valor de venda"),o.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),o.a.createElement("tbody",null,t))},ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.call(this,"/items")}return Object(s.a)(a,[{key:"validar",value:function(e){var t=[];if(e.descricao||t.push("O preenchimento do campo [Descri\xe7\xe3o] \xe9 obrigat\xf3rio."),e.vlrCusto?!e.vlrCusto<0&&t.push("O preenchimento do campo [Valor de custo] n\xe3o pode ser negativo."):t.push("O preenchimento do campo [Valor de custo] \xe9 obrigat\xf3rio."),e.vlrVenda?!e.vlrVenda<0&&t.push("O preenchimento do campo [Valor de venda] n\xe3o pode ser negativo."):t.push("O preenchimento do campo [Valor de venda] \xe9 obrigat\xf3rio."),e.vlrCusto&&e.vlrVenda&&e.vlrCusto>e.vlrVenda&&t.push("O Valor de custo n\xe3o pode ser maior que o pre\xe7o de venda."),e.tipoItem.id<=0&&t.push("O preenchimento do campo [Tipo do item] \xe9 obrigat\xf3rio."),t&&t.length>0)throw new N(t)}},{key:"consultar",value:function(e){var t="?descricao=".concat(e.descricao);return this.get("/by"+t)}},{key:"obterPorId",value:function(e){return this.get("/".concat(e))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"atualizar",value:function(e){return this.put("/".concat(e.id),e)}},{key:"deletar",value:function(e){return this.delete("/".concat(e))}}]),a}(C),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:null,descricao:"",descTipo:"",vlrCusto:null,vlrVenda:null,tipoItem:[],items:[]},n.consultar=function(){var e={id:n.state.id,descricao:n.state.descricao,tipoItem:n.state.descTipo,showConfirmDialogDel:!1,itemDeletar:{}};n.itemService.consultar(e).then((function(e){var t=e.data;if(t.length<1)return x("Nenhum item foi localizado."),!1;n.setState({items:t})})).catch((function(e){w(e.response.data)}))},n.editar=function(e){n.props.history.push("cadastro-items/".concat(e))},n.prepararNovoCadastro=function(){n.props.history.push("cadastro-items")},n.abrirConfirmacaoDeletar=function(e){n.setState({showConfirmDialogDel:!0,itemDeletar:e})},n.cancelarDelecao=function(){n.setState({showConfirmDialogDel:!1,itemDeletar:{}})},n.deletar=function(){n.itemService.deletar(n.state.itemDeletar.id).then((function(e){var t=n.state.items.indexOf(n.state.itemDeletar);n.state.items.splice(t,1),n.setState({items:n.state.items,showConfirmDialogDel:!1}),I("item excluido com sucesso!")})).catch((function(e){w(e.response.data.titulo)}))},n.itemService=new ue,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,o.a.createElement(Z.Button,{label:"Confirmar",icon:"pi pi-check",onClick:this.deletar}),o.a.createElement(Z.Button,{label:"Cancelar",icon:"pi pi-times",onClick:this.cancelarDelecao}));return o.a.createElement(S,{title:"Consulta de items"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(D,{label:"Descri\xe7\xe3o: *",htmlFor:"ImputDesc"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite a descri\xe7\xe3o do item",maxLength:"100",id:"ImputDesc",value:this.state.descricao,onChange:function(t){return e.setState({descricao:t.target.value})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.consultar},o.a.createElement("i",{className:"pi pi-search"})," Consultar"),o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.prepararNovoCadastro},o.a.createElement("i",{className:"pi pi-plus"})," Cadastrar novo"))),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(le,{items:this.state.items,actionEdit:this.editar,actionDelete:this.abrirConfirmacaoDeletar,alterarStatus:this.abrirConfirmacaoAlterarStatus})))),o.a.createElement("div",null,o.a.createElement(X.Dialog,{header:"Confirma\xe7\xe3o",visible:this.state.showConfirmDialogDel,style:{width:"20%"},footer:t,modal:!0,onHide:function(){return e.setState({showConfirmDialogDel:!1})}},"Confirma a exclus\xe3o do item?")))}}]),a}(o.a.Component),de=Object(d.g)(me),pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.call(this,"/tipoItem")}return Object(s.a)(a,[{key:"validar",value:function(e){var t=[];if(e.descricao||t.push("O preenchimento do campo [Descri\xe7\xe3o] \xe9 obrigat\xf3rio."),e.perComissao?e.perComissao<0&&t.push("A comiss\xe3o n\xe3o pode ser negativa."):t.push("O preenchimento do campo [Comiss\xe3o] \xe9 obrigat\xf3rio."),t&&t.length>0)throw new N(t)}},{key:"listar",value:function(){return this.get("")}},{key:"consultar",value:function(e){var t="?descricao=".concat(e.descricao);return this.get("/by"+t)}},{key:"obterPorId",value:function(e){return this.get("/".concat(e))}},{key:"salvar",value:function(e){return this.post("/",e)}},{key:"atualizar",value:function(e){return console.log(e.id),console.log(e),this.put("/".concat(e.id),e)}},{key:"deletar",value:function(e){return this.delete("/".concat(e))}}]),a}(C),he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={id:null,descricao:"",vlrCusto:0,vlrVenda:0,atualizando:!1,idTipoItem:null,tipoItem:[]},e.carregarTipos=function(){e.tipoItemService.listar().then((function(t){e.setState({tipoItem:t.data})})).catch((function(e){w(e.response.data)}))},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object($.a)({},n,a))},e.preparaConsultar=function(){e.props.history.push("/consulta-items")},e.preparaSalvar=function(){var t=e.getDados();try{e.itemService.validar(t)}catch(a){return a.mensagens.forEach((function(e){x(e)})),!1}e.salvar(t)},e.getDados=function(){return e.ehNovoCadastro()?{descricao:e.state.descricao,vlrCusto:e.state.vlrCusto,vlrVenda:e.state.vlrVenda,tipoItem:{id:e.state.idTipoItem}}:{id:e.state.id,descricao:e.state.descricao,vlrCusto:e.state.vlrCusto,vlrVenda:e.state.vlrVenda,tipoItem:{id:e.state.idTipoItem}}},e.ehNovoCadastro=function(){return!e.state.id},e.salvar=function(t){console.log(t),e.itemService.salvar(t).then((function(t){I("item cadastrado com sucesso!"),e.props.history.push("/consulta-items")})).catch((function(e){w(e.response.data.titulo)}))},e.itemService=new ue,e.tipoItemService=new pe,e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;t.id&&this.itemService.obterPorId(t.id).then((function(t){e.setState({id:t.data.id}),e.setState({descricao:t.data.descricao}),e.setState({vlrCusto:t.data.vlrCusto}),e.setState({vlrVenda:t.data.vlrVenda}),e.setState({idTipoItem:t.data.tipoItem.id}),e.setState({atualizando:!0})})).catch((function(e){w(e.response.data)})),this.carregarTipos()}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{title:"Cadastro de Itens"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-1"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{label:"C\xf3digo",htmlFor:"inputId"},o.a.createElement("input",{className:"form-control",type:"text",id:"inputId",name:"nome",value:this.state.id,disabled:!0}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{id:"inputDesc",label:"Descric\xe3o *"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe a descri\xe7\xe3o do item",maxLength:"100",id:"inputDesc",name:"descricao",value:this.state.descricao,onChange:this.handleChange}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{label:"Tipo: *",htmlFor:"inputTipo"},o.a.createElement("select",{className:"form-control",id:"inputTipo",name:"idTipoItem",value:this.state.idTipoItem,onChange:this.handleChange},o.a.createElement("option",{value:"0"},"Selecione uma op\xe7\xe3o"),this.state.tipoItem.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.descricao)}))))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{id:"inputVlrCusto",label:"Valor de custo: *"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputVlrCusto",name:"vlrCusto",prefix:"R$ ",thousandSeparator:!0,decimalScale:"2",allowNegative:!1,fixedDecimalScale:!0,allowEmptyFormatting:!1,value:this.state.vlrCusto,onValueChange:function(t){var a=t.value;e.setState({vlrCusto:a})}}))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{id:"inputVlrVenda",label:"Valor de venda: *"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputVlrVenda",name:"vlrVenda",prefix:"R$ ",thousandSeparator:!0,decimalScale:"2",allowNegative:!1,fixedDecimalScale:!0,allowEmptyFormatting:!1,value:this.state.vlrVenda,onValueChange:function(t){var a=t.value;e.setState({vlrVenda:a})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",onClick:this.preparaSalvar},o.a.createElement("i",{className:"pi pi-save"})," ",this.state.id?"Atualizar":"Salvar"," "),o.a.createElement("button",{className:"btn btn-danger",onClick:this.preparaConsultar},o.a.createElement("i",{className:"pi pi-arrow-left"})," Voltar"))))}}]),a}(o.a.Component),ve=Object(d.g)(he),fe=function(e){var t=e.tipoItems.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.descricao),o.a.createElement("td",null,B.a.format(t.perComissao,{})," %"),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-primary",title:"Editar",type:"button",onClick:function(a){return e.actionEdit(t.id)}},o.a.createElement("i",{className:"pi pi-pencil"})),o.a.createElement("button",{type:"button",title:"Excluir",className:"btn btn-danger",onClick:function(a){return e.actionDelete(t)}},o.a.createElement("i",{className:"pi pi-trash"}))))}));return o.a.createElement("table",{className:"table table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"C\xf3digo"),o.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),o.a.createElement("th",{scope:"col"},"Comiss\xe3o"),o.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),o.a.createElement("tbody",null,t))},Ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:null,descricao:"",perComissao:null,tipoItems:[]},n.consultar=function(){var e={id:n.state.id,descricao:n.state.descricao,showConfirmDialogDel:!1,itemDeletar:{}};n.tipoItemService.consultar(e).then((function(e){var t=e.data;if(t.length<1)return x("Nenhum tipo de item foi localizado."),!1;n.setState({tipoItems:t})})).catch((function(e){w(e.response.data)}))},n.editar=function(e){n.props.history.push("cadastro-tipoitems/".concat(e))},n.prepararNovoCadastro=function(){n.props.history.push("cadastro-tipoitems")},n.abrirConfirmacaoDeletar=function(e){n.setState({showConfirmDialogDel:!0,itemDeletar:e})},n.cancelarDelecao=function(){n.setState({showConfirmDialogDel:!1,itemDeletar:{}})},n.deletar=function(){n.tipoItemService.deletar(n.state.itemDeletar.id).then((function(e){var t=n.state.tipoItems.indexOf(n.state.itemDeletar);n.state.tipoItems.splice(t,1),n.setState({tipoItems:n.state.tipoItems,showConfirmDialogDel:!1}),I("Tipo de item excluido com sucesso!")})).catch((function(e){w(e.response.data.titulo)}))},n.tipoItemService=new pe,n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,o.a.createElement(Z.Button,{label:"Confirmar",icon:"pi pi-check",onClick:this.deletar}),o.a.createElement(Z.Button,{label:"Cancelar",icon:"pi pi-times",onClick:this.cancelarDelecao}));return o.a.createElement(S,{title:"Consulta de tipo de item"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement(D,{label:"Descri\xe7\xe3o: *",htmlFor:"ImputDesc"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Digite a descri\xe7\xe3o do tipo do item",maxLength:"100",id:"ImputDesc",value:this.state.descricao,onChange:function(t){return e.setState({descricao:t.target.value})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.consultar},o.a.createElement("i",{className:"pi pi-search"})," Consultar"),o.a.createElement("button",{className:"btn btn-success",type:"button",onClick:this.prepararNovoCadastro},o.a.createElement("i",{className:"pi pi-plus"})," Cadastrar novo"))),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(fe,{tipoItems:this.state.tipoItems,actionEdit:this.editar,actionDelete:this.abrirConfirmacaoDeletar,alterarStatus:this.abrirConfirmacaoAlterarStatus})))),o.a.createElement("div",null,o.a.createElement(X.Dialog,{header:"Confirma\xe7\xe3o",visible:this.state.showConfirmDialogDel,style:{width:"20%"},footer:t,modal:!0,onHide:function(){return e.setState({showConfirmDialogDel:!1})}},"Confirma a exclus\xe3o do tipo de item?")))}}]),a}(o.a.Component),be=Object(d.g)(Ee),ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={id:null,descricao:"",perComissao:0,atualizando:!1},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object($.a)({},n,a))},e.preparaConsultar=function(){e.props.history.push("/consulta-tipoitems")},e.preparaSalvar=function(){var t=e.getDados();try{e.tipoItemService.validar(t)}catch(a){return a.mensagens.forEach((function(e){x(e)})),!1}e.ehNovoCadastro()?e.salvar(t):e.atualizar(t)},e.getDados=function(){var t=e.state;return{id:t.id,descricao:t.descricao,perComissao:t.perComissao}},e.ehNovoCadastro=function(){return!e.state.id},e.salvar=function(t){e.tipoItemService.salvar(t).then((function(t){I("Tipo de item cadastrado com sucesso!"),e.props.history.push("/consulta-tipoItems")})).catch((function(e){w(e.response.data.titulo)}))},e.atualizar=function(t){return e.tipoItemService.atualizar(t).then((function(t){e.props.history.push("/consulta-tipoItems"),I("Tipo de item atualizado com sucesso!")})).catch((function(e){w(e.response.data.titulo),w(e.response.data)}))},e.tipoItemService=new pe,e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;t.id&&this.tipoItemService.obterPorId(t.id).then((function(t){e.setState(Object(J.a)(Object(J.a)({},t.data),{},{atualizando:!0}))})).catch((function(e){w(e.response.data)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{title:"Cadastro de tipo de itens"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-1"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{label:"C\xf3digo",htmlFor:"inputId"},o.a.createElement("input",{className:"form-control",type:"text",id:"inputId",name:"id",value:this.state.id,disabled:!0}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"bs-component"},o.a.createElement(D,{id:"inputDesc",label:"Descric\xe3o *"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Informe a descri\xe7\xe3o do tipo do item",maxLength:"100",id:"inputDesc",name:"descricao",value:this.state.descricao,onChange:this.handleChange}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-4"},o.a.createElement(D,{id:"inputVlrCusto",label:"Percentual de comiss\xe3o: *"},o.a.createElement(ne.a,{className:"form-control text-left",id:"inputPerComissao",name:"perComissao",prefix:"% ",thousandSeparator:!0,decimalScale:"2",allowNegative:!1,fixedDecimalScale:!0,allowEmptyFormatting:!1,value:this.state.perComissao,onValueChange:function(t){var a=t.value;e.setState({perComissao:a})}})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{className:"btn btn-success",onClick:this.preparaSalvar},o.a.createElement("i",{className:"pi pi-save"})," ",this.state.id?"Atualizar":"Salvar"," "),o.a.createElement("button",{className:"btn btn-danger",onClick:this.preparaConsultar},o.a.createElement("i",{className:"pi pi-arrow-left"})," Voltar"))))}}]),a}(o.a.Component),Ce=Object(d.g)(ge),Ne=a(13);function ye(e){var t=e.component,a=e.isUsuarioAutenticado,n=Object(m.a)(e,["component","isUsuarioAutenticado"]);return o.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function Se(e){return o.a.createElement(Ne.a,null,o.a.createElement(d.d,null,o.a.createElement(d.b,{path:"/login",component:R}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/home",component:Y}),o.a.createElement(ye,{isUsuarioAutenticado:"true",path:"/consulta-usuarios",component:M}),o.a.createElement(ye,{isUsuarioAutenticado:"true",path:"/cadastro-usuarios/:id?",component:G}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/consulta-clientes",component:te}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/cadastro-clientes/:id?",component:se}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/consulta-tipoItems",component:be}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/cadastro-tipoItems/:id?",component:Ce}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/consulta-items",component:de}),o.a.createElement(ye,{isUsuarioAutenticado:e.isUsuarioAutenticado,path:"/cadastro-items/:id?",component:ve})))}var De=function(){return o.a.createElement(z,null,(function(e){return o.a.createElement(Se,{isUsuarioAutenticado:e.isAutenticado})}))};var Oe=function(e){var t=e.render,a=Object(m.a)(e,["render"]);return!!t&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:a.className?a.className:"nav-link",onClick:a.onClick,href:a.href}," ",a.label," "))};function ke(e){return o.a.createElement("div",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-primary"},o.a.createElement("div",{className:"container"},o.a.createElement("a",{href:"#/home",className:"navbar-brand"},"Sistema de Comiss\xe3o"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement(Oe,{render:e.isUsuarioAutenticado,href:"#/home",label:"Home"}),o.a.createElement(Oe,{render:e.isUsuarioAutenticado,href:"#/consulta-usuarios",label:"Usu\xe1rio"}),o.a.createElement(Oe,{render:e.isUsuarioAutenticado,href:"#/consulta-clientes",label:"Clientes"}),o.a.createElement(Oe,{render:e.isUsuarioAutenticado,href:"#/consulta-tipoitems",label:"Tipo de Itens"}),o.a.createElement(Oe,{render:e.isUsuarioAutenticado,href:"#/consulta-items",label:"Itens"}),o.a.createElement(Oe,{render:e.isUsuarioAutenticado,onClick:e.deslogar,href:"#/login",label:"Sair"})))))}var je=function(){return o.a.createElement(z,null,(function(e){return o.a.createElement(ke,{isUsuarioAutenticado:e.isAutenticado,deslogar:e.encerrarSessao})}))},we=(a(86),a(87),a(88),a(89),a(90),a(91),a(92),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,null,o.a.createElement(je,null),o.a.createElement("div",{className:"container"},o.a.createElement(De,null))))}}]),a}(o.a.Component));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(we,null)),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.87fc7a7e.chunk.js.map